{"version":3,"sources":["file:///C:/Users/Administrator/Desktop/Company_project/NewProject_8/assets/Script/Util_Event.ts"],"names":["reason","goal","procedure","event","EveMag","_decorator","Component","UntilRelationship","ccclass","cnt","eventType","eventArea","constructor","pos","posReason","posThing","posClt","fam","posMake","setFam","getFam","setPos","setPosReason","rea","setPosMake","make","setPosClt","clt","getPos","getPosClt","getPosMake","getPosReason","name","G","N","FinNumG","FinNumN","setName","setFinNumG","setFinNumN","getFinNumG","getFinNumN","getName","evT","evAF","evW","evP","evGoal","evType","evwho","evPos","update","dis","evDis","talk","collect","toString","brush","goals","tmp","i","length","substring","getTotal","len","setEvAF","evaf","getEvAF","setEvType","t","setEvWho","w","setEvGoal","g","getEvGoal","setEvTS","s","evTaskSts","getEvTS","getEvType","getEvWho","evThing","getDis","person","res","process","proPerson","proReason","prize","outside","add","num","push","setEvSts","S","evSts","getProPerson","getProReason","getPrize","getStage","stage","getProcess","getEvNum","evNum","setProcess","p","setPrize","setStage","setProPerson","setProposeReson","pool","getPool","addEvent","ev","FinishEvennt","n","splice","UtilEvent","getAEveMag","init","result","reas","getARandEvent","board","rad","randNum","getAInitP","famCause","getPosByName","window","mons","getATAM","getACE","posNum","reasons","type","cPos","myProcedure","thing","total","ugly","family","sty","j","who","mtlN","town","Math","floor","areaName","getDeadSts"],"mappings":"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","sourcesContent":["import { _decorator, Component, JsonAsset, resources } from \"cc\";\r\nimport { UntilRelationship, Person } from \"./Until_Relationship\";\r\n\r\nconst { ccclass } = _decorator;\r\n\r\n//‰ªªÂä°ÁºñÂè∑\r\nlet cnt = 0;\r\n//‰ªªÂä°Á±ªÂûã\r\nenum eventType {\r\n  talk,\r\n  collect,\r\n  brush,\r\n  make,\r\n}\r\n//ÊîØÁ∫øÂú∞ÁÇπflag\r\nenum eventArea {\r\n  town,\r\n  outside,\r\n}\r\n\r\nclass reason {\r\n  // ÂèëËµ∑‰ΩçÁΩÆ\r\n  private pos: string;\r\n  //ÂèëËµ∑ÂéüÂõ†\r\n  private posReason: string;\r\n  //Âú∞ÁÇπÂà∂‰Ωú\r\n  private posMake: string;\r\n  //Âú∞ÁÇπÁõ∏ÂÖ≥Êî∂ÈõÜ\r\n  private posClt: string[];\r\n  //ËØ•Âú∞ÁÇπÊâÄÂç†‰∫∫ÂÆ∂\r\n  private fam: any[];\r\n  constructor(\r\n    pos: string,\r\n    posReason: string,\r\n    posThing: string,\r\n    posClt: string[],\r\n    fam: any[]\r\n  ) {\r\n    this.pos = pos;\r\n    this.posClt = posClt;\r\n    this.posReason = posReason;\r\n    this.posMake = posThing;\r\n    this.fam = fam;\r\n  }\r\n  setFam(fam: any[]) {\r\n    return (this.fam = fam);\r\n  }\r\n  getFam() {\r\n    return this.fam;\r\n  }\r\n  setPos(pos: string) {\r\n    return (this.pos = pos);\r\n  }\r\n  setPosReason(rea: string) {\r\n    return (this.posReason = rea);\r\n  }\r\n  setPosMake(make: string) {\r\n    return (this.posMake = make);\r\n  }\r\n  setPosClt(clt: string[]) {\r\n    return (this.posClt = clt);\r\n  }\r\n  getPos() {\r\n    return this.pos;\r\n  }\r\n  getPosClt() {\r\n    return this.posClt;\r\n  }\r\n  getPosMake() {\r\n    return this.posMake;\r\n  }\r\n  getPosReason() {\r\n    return this.posReason;\r\n  }\r\n}\r\n//ÁõÆÊ†áÁ±ª\r\nexport class goal {\r\n  private name;\r\n  //ÂÆåÊàêÁõÆÊ†á\r\n  private FinNumG: number;\r\n  //ÂÆåÊàêÈáè\r\n  private FinNumN: number;\r\n  constructor(name: string, G: number, N: number) {\r\n    this.name = name;\r\n    this.FinNumG = G;\r\n    this.FinNumN = N;\r\n  }\r\n  setName(name: string) {\r\n    return (this.name = name);\r\n  }\r\n  setFinNumG(G: number) {\r\n    return (this.FinNumG = G);\r\n  }\r\n  setFinNumN(N: number) {\r\n    return (this.FinNumN = N);\r\n  }\r\n  getFinNumG() {\r\n    return this.FinNumG;\r\n  }\r\n  getFinNumN() {\r\n    return this.FinNumN;\r\n  }\r\n  getName() {\r\n    return this.name;\r\n  }\r\n}\r\nexport class procedure {\r\n  //ÂüéÂå∫ËøòÊòØÂâØÊú¨\r\n  private evAF: eventArea;\r\n  //‰ªªÂä°ÊèèËø∞\r\n  private evDis: string = \"\";\r\n  //‰ªªÂä°ÂØπË±°Êé•Êî∂‰∫∫\r\n  private evwho: string;\r\n  //‰ªªÂä°Âú∞ÁÇπ\r\n  private evPos: string;\r\n  //ÂÆåÊàêÁõÆÊ†á\r\n  private evGoal: goal[];\r\n  //‰ªªÂä°Á±ªÂûã\r\n  private evType: eventType;\r\n  //ÂàÜÊîØ‰ªªÂä°Áä∂ÊÄÅ\r\n  private evTaskSts: boolean = false;\r\n\r\n  constructor(\r\n    evT: eventType,\r\n    evAF: eventArea,\r\n    evW: string,\r\n    evP: string,\r\n    evGoal: goal[]\r\n  ) {\r\n    this.evType = evT;\r\n    this.evwho = evW;\r\n    this.evPos = evP;\r\n    this.evGoal = evGoal;\r\n    this.evAF = evAF;\r\n    this.update(evP, evW, evT, evGoal);\r\n  }\r\n  update(evP: string, evW: any, evT: eventType, evGoal: goal[]) {\r\n    let dis;\r\n\r\n    this.evDis = \"Âú∞ÁÇπÔºö\" + evP + \",ÂØπË±°Ôºö\" + evW + \",‰ªªÂä°Ôºö\";\r\n    switch (evT) {\r\n      case eventType.talk:\r\n        this.evDis +=\r\n          \"‰∏é\" +\r\n          evW +\r\n          \"‰ºöËØù(\" +\r\n          evGoal[0].getFinNumN() +\r\n          \"/\" +\r\n          evGoal[0].getFinNumG() +\r\n          \")\";\r\n        break;\r\n      case eventType.collect:\r\n        dis = this.toString(evGoal);\r\n        this.evDis += \"Êî∂ÈõÜ\" + dis;\r\n        break;\r\n      case eventType.brush:\r\n        dis = this.toString(evGoal);\r\n        this.evDis += \"Ê∏ÖÈô§\" + dis;\r\n        break;\r\n      case eventType.make:\r\n        dis = this.toString(evGoal);\r\n        this.evDis += \"Âà∂\" + dis;\r\n        break;\r\n    }\r\n  }\r\n  toString(goals: goal[]) {\r\n    let tmp = \"[\";\r\n    for (let i = 0; i < goals.length; i++) {\r\n      tmp +=\r\n        goals[i].getName() +\r\n        \":\" +\r\n        goals[i].getFinNumN() +\r\n        \"/\" +\r\n        goals[i].getFinNumG() +\r\n        \",\";\r\n    }\r\n    tmp = tmp.substring(0, tmp.length - 1);\r\n    tmp += \"]\";\r\n    return tmp;\r\n  }\r\n  getTotal() {\r\n    let len = 0;\r\n    for (let i = 0; i < this.evGoal.length; i++) {\r\n      len += this.evGoal[i].getFinNumG();\r\n    }\r\n    return len;\r\n  }\r\n  setEvAF(evaf: eventArea) {\r\n    return (this.evAF = evaf);\r\n  }\r\n  getEvAF() {\r\n    return this.evAF;\r\n  }\r\n  setEvType(t: eventType) {\r\n    this.update(this.evPos, this.evwho, t, this.evGoal);\r\n    return (this.evType = t);\r\n  }\r\n  setEvWho(w: string) {\r\n    this.update(this.evPos, w, this.evType, this.evGoal);\r\n    return (this.evwho = w);\r\n  }\r\n  setEvGoal(g: goal[]) {\r\n    return (this.evGoal = g);\r\n  }\r\n  getEvGoal() {\r\n    return this.evGoal;\r\n  }\r\n  setEvTS(s: boolean) {\r\n    return (this.evTaskSts = s);\r\n  }\r\n  getEvTS() {\r\n    return this.evTaskSts;\r\n  }\r\n  getEvType() {\r\n    return this.evType;\r\n  }\r\n  getEvWho() {\r\n    return this.evwho;\r\n  }\r\n  setPos(pos: string) {\r\n    this.evPos = pos;\r\n    this.update(pos, this.evwho, this.evType, this.evThing);\r\n  }\r\n  getDis() {\r\n    return this.evDis;\r\n  }\r\n}\r\nexport class event {\r\n  //‰ªªÂä°ÁºñÂè∑\r\n  private evNum: number = cnt;\r\n  //ÂèëËµ∑‰∫∫\r\n  private proPerson: any;\r\n  //‰ªªÂä°Èò∂ÊÆµ\r\n  private stage: number = 0;\r\n  //ÂèëËµ∑ÂéüÂõ†\r\n  private proReason: string;\r\n  //Â•ñÂä±\r\n  private prize: any[];\r\n  //ÊâßË°åËøáÁ®ã\r\n  private process: procedure[];\r\n  // ‰ªªÂä°Áä∂ÊÄÅ\r\n  private evSts = false;\r\n\r\n  constructor(person: any, res: string, process: procedure[]) {\r\n    this.proPerson = person;\r\n    this.proReason = res; //this.proPerson + \"ÊÉ≥\" + res\r\n    this.process = process;\r\n    this.prize = [];\r\n    //ËÆ°ÁÆóÈáëÂ∏ÅÂ•ñÂä±\r\n    for (let i = 0; i < process.length; i++) {\r\n      //ÂüéÂ§ñ\r\n      if (process[i].getEvAF() == eventArea.outside) {\r\n        if (process[i].getTotal() <= 3) {\r\n          this.add(4);\r\n        } else if (process[i].getTotal() <= 6) {\r\n          this.add(10);\r\n        } else if (process[i].getTotal() <= 9) {\r\n          this.add(14);\r\n        } else {\r\n          this.add(16);\r\n        }\r\n      } else {\r\n        //ÂüéÂÜÖ\r\n        if (process[i].getTotal() <= 2) {\r\n          this.add(1);\r\n        } else {\r\n          this.add(3);\r\n        }\r\n      }\r\n    }\r\n    cnt++;\r\n  }\r\n  add(num: number) {\r\n    for (let i = 1; i <= 3; i++) {\r\n      this.prize.push(num + i + 1);\r\n    }\r\n  }\r\n  setEvSts(S: boolean) {\r\n    return (this.evSts = S);\r\n  }\r\n  getProPerson() {\r\n    return this.proPerson;\r\n  }\r\n  getProReason() {\r\n    return this.proReason;\r\n  }\r\n  getPrize() {\r\n    return this.prize;\r\n  }\r\n  getStage() {\r\n    return this.stage;\r\n  }\r\n  getProcess() {\r\n    return this.process;\r\n  }\r\n  getEvNum() {\r\n    return this.evNum;\r\n  }\r\n  setProcess(p: any) {\r\n    return (this.process = p);\r\n  }\r\n  setPrize(p: any) {\r\n    return (this.prize = p);\r\n  }\r\n  setStage(i: number) {\r\n    return (this.stage = i);\r\n  }\r\n  setProPerson(p: any) {\r\n    return (this.proPerson = p);\r\n  }\r\n  setProposeReson(s: string) {\r\n    return (this.proReason = s);\r\n  }\r\n}\r\nexport class EveMag {\r\n  private pool: event[];\r\n  constructor() {\r\n    this.pool = [];\r\n  }\r\n  getPool() {\r\n    return this.pool;\r\n  }\r\n  addEvent(ev: event) {\r\n    this.pool.push(ev);\r\n  }\r\n  FinishEvennt(n: number) {\r\n    for (let i = 0; i < this.pool.length; i++) {\r\n      if (this.pool[i].getEvNum() == n) {\r\n        this.pool[i].setEvSts(true);\r\n        return this.pool.splice(i, 1);\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n}\r\n@ccclass(\"UtilEvent\")\r\nexport class UtilEvent extends Component {\r\n  //ËøîÂõû‰∏Ä‰∏™‰ªªÂä°Ê±†\r\n  static getAEveMag() {\r\n    return new EveMag();\r\n  }\r\n  //unuse\r\n  static init(result: any[]) {\r\n    // ÂéüÂõ†‰∏éËÅå‰∏ö‰∏≠Âú∞ÁÇπ‰∏Ä‰∏ÄÂØπÂ∫î\r\n    let reas: Array<reason> = [];\r\n    let tmp;\r\n    if (result.length > 0) {\r\n      tmp = new reason(\r\n        \"ÈÖíËÇÜ\",\r\n        \"ÂñùÈùíÊ¢ÖÈÖí\",\r\n        \"ÈÖí\",\r\n        [\"ÈùíÊ¢Ö\", \"ÁôΩÁ≥ñ\"],\r\n        result[0].fam\r\n      );\r\n      reas.push(tmp);\r\n    }\r\n    if (result.length > 1) {\r\n      tmp = new reason(\r\n        \"ÂÆ¢Ê†à\",\r\n        \"ÊâæÂú∞ÊñπÂêÉÈ•≠\",\r\n        \"Ëèú\",\r\n        [\"ÊäòËÄ≥Ê†π\", \"ËòëËèá\"],\r\n        result[1].fam\r\n      );\r\n      reas.push(tmp);\r\n    }\r\n    if (result.length > 2) {\r\n      tmp = new reason(\r\n        \"ÂåªÂùä\",\r\n        \"‰π∞ËçØËÜèÊ≤ªËÇæ‰∫è\",\r\n        \"ËçØ\",\r\n        [\"Êú®È¶ô\", \"Â∑ùËøû\"],\r\n        result[2].fam\r\n      );\r\n      reas.push(tmp);\r\n    }\r\n    if (result.length > 3) {\r\n      tmp = new reason(\r\n        \"ÈìÅÂå†Èì∫\",\r\n        \"‰π∞ÂàÄÈò≤Ë∫´\",\r\n        \"ÂàÄ\",\r\n        [\"ÈìÅÂ±ë\", \"Êú®Êùê\"],\r\n        result[3].fam\r\n      );\r\n      reas.push(tmp);\r\n    }\r\n    if (result.length > 4) {\r\n      tmp = new reason(\r\n        \"Ëå∂È¶Ü\",\r\n        \"‰π∞Ëå∂ÈÄÅÂ•ΩÂèãËå∂\",\r\n        \"Ëå∂\",\r\n        [\"Ëå∂Â∞ñ\", \"Ëå∂Ëãó\"],\r\n        result[4].fam\r\n      );\r\n      reas.push(tmp);\r\n    }\r\n    if (result.length > 5) {\r\n      tmp = new reason(\r\n        \"Ë£ÅÁºùÂ∫ó\",\r\n        \"‰π∞‰∏ùÁª∏\",\r\n        \"Ë°£\",\r\n        [\"Èî¶Áºé\", \"È∫ªÂ∏É\"],\r\n        result[5].fam\r\n      );\r\n      reas.push(tmp);\r\n    }\r\n    if (result.length > 6) {\r\n      tmp = new reason(\r\n        \"ÂïÜÈì∫\",\r\n        \"‰π∞ËÉ≠ËÑÇ\",\r\n        \"ËÉ≠ËÑÇ\",\r\n        [\"ËúÄËëµËä±\", \"Â±±Ëä±\"],\r\n        result[6].fam\r\n      );\r\n      reas.push(tmp);\r\n    }\r\n\r\n    return reas;\r\n  }\r\n\r\n  static getARandEvent(result: any, board: boolean) {\r\n    let pos, p, rad;\r\n    //outside or inside\r\n    rad = UntilRelationship.randNum(4) % 2;\r\n    //inside\r\n    if (rad == 0) {\r\n      \r\n    }\r\n    //‰ªªÂä°Áâà‰ªªÂä°Ôºå‰∏ªË¶ÅÊòØÂà∑ÊÄ™Ôºå‰ºöËØù\r\n    do {\r\n      rad = UntilRelationship.randNum(result.length);\r\n      p = this.getAInitP(result[rad].famCause, result).getName();\r\n      pos = this.getPosByName(result, p);\r\n    } while (pos == \"Â∏ùÁéãüïä\");\r\n\r\n    if (board) {\r\n      //ÈöèÊú∫ÈÄâÊã©‰∏Ä‰∏™‰∫∫ÔºåËØ¥Âá∫Á∫øÁ¥¢egÔºöÈªëÂ®ÉÂá∫ÊùëÂõûÊù•‰πãÂêéÂèóÂà∞‰∫ÜÊÉäÂêìÔºåÂâçÂéªÂ∏ÆÂä©„ÄÇ„ÄÇÔºåÈªëÂ®ÉËØ¥Âá∫Á∫øÁ¥¢ÔºåÂà∑ÊÄ™\r\n\r\n      return new event(p, window.mons[0].res, [\r\n        this.getATAM(p, pos, eventType.talk, -1),\r\n        this.getATAM(p, pos, eventType.brush, 3),\r\n      ]);\r\n    } else {\r\n      //ÂßîÊâò‰∫∫‰ªªÂä°Ôºå‰ºöËØùÔºåÊî∂ÈõÜÔºåÂà∂‰Ωú\r\n      //Âà∂‰ΩúÂú∞ ‰∫ßÁîü\r\n      return new event(p, window.mons[0].res, [\r\n        this.getATAM(p, pos, eventType.talk, -1),\r\n        this.getATAM(p, pos, eventType.brush, 3),\r\n      ]);\r\n    }\r\n  }\r\n\r\n  //Êî∂ÈõÜ‰ªªÂä°„ÄÅÂà∑ÊÄ™\r\n  static getACE(posNum: number, reasons: any, type: eventType) {\r\n    let rad = UntilRelationship.randNum(cPos.length);\r\n\r\n    let myProcedure, thing, total;\r\n    //Êî∂ÈõÜÊàñÂ∞èÊÄ™Êï∞Èáè\r\n    if (eventType.collect == type) {\r\n      //ÈÄâÂèñÁâ©ÂìÅ\r\n      do {\r\n        thing = UntilRelationship.randNum(reasons[posNum].getPosClt().length);\r\n      } while (thing == 0);\r\n      // Êî∂ÈõÜÊï∞Èáè\r\n      do {\r\n        total = UntilRelationship.randNum(21);\r\n      } while (total == 0);\r\n\r\n      myProcedure = new procedure(\r\n        rad,\r\n        eventType.collect,\r\n        eventArea.outside,\r\n        reasons[posNum].getPosClt()[thing],\r\n        reasons[posNum].getPosClt()[thing],\r\n        total,\r\n        cPos[rad]\r\n      );\r\n    } else {\r\n      do {\r\n        thing = UntilRelationship.randNum(ugly.length);\r\n      } while (thing == 0);\r\n      do {\r\n        total = UntilRelationship.randNum(21);\r\n      } while (total == 0);\r\n      myProcedure = new procedure(\r\n        rad,\r\n        eventType.brush,\r\n        eventArea.outside,\r\n        ugly[thing],\r\n        ugly[thing],\r\n        total,\r\n        cPos[rad]\r\n      );\r\n    }\r\n    return myProcedure;\r\n  }\r\n  static getPosByName(family: any[], name: string) {\r\n    let sty = false;\r\n    for (let i = 0; i < family.length; i++) {\r\n      for (let j = 0; j < family[i].fam.length; j++) {\r\n        if (family[i].fam[j].getName() == name) {\r\n          sty = true;\r\n          break;\r\n        }\r\n      }\r\n      if (sty) {\r\n        return family[i].famCause;\r\n      }\r\n    }\r\n    return \"Â∏ùÁéãüïä\";\r\n  }\r\n  //‰ºöËØù‰ªªÂä°‰∏éÂà∂‰Ωú‰ªªÂä°\r\n  static getATAM(who: string, pos: string, type: eventType, mtlN: number) {\r\n    //‰ªªÂä°‰ºöËØùÂØπË±°\r\n    let myProcedure;\r\n\r\n    // WHO Ê†πÊçÆboardÊàñËÄÖÂßîÊâòËøõË°åÈÄâÊã©‰∫∫\r\n    if (type == eventType.talk) {\r\n      myProcedure = new procedure(eventType.talk, eventArea.town, who, pos, [\r\n        new goal(\"‰ºöËØù\", 1, 0),\r\n      ]);\r\n    } else {\r\n      //Âà∂‰Ωú‰∏úË•øÂ∫îËØ•ÊòØjsonËØªÂèñ\r\n      myProcedure = new procedure(eventType.make, eventArea.town, who, pos, [\r\n        new goal(\"Áâ©ÂìÅ\", Math.floor(mtlN / 3), 0),\r\n      ]);\r\n    }\r\n    return myProcedure;\r\n  }\r\n  //ÂèëËµ∑‰∫∫\r\n  static getAInitP(areaName: string, result: any[]) {\r\n    let rad, who, tmp;\r\n    //ÈÄâÊã©ÈùûÊîπÂå∫ÂüüÁöÑ‰∫∫\r\n    do {\r\n      rad = UntilRelationship.randNum(result.length);\r\n    } while (result[rad].famCause == areaName);\r\n    tmp = rad;\r\n    do {\r\n      rad = UntilRelationship.randNum(result[tmp].fam.length);\r\n      who = result[tmp].fam[rad];\r\n    } while (who.getDeadSts() == true);\r\n    return who;\r\n  }\r\n}\r\n"]}